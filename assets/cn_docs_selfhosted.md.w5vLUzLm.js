import{_ as a,c as i,o as s,a2 as l}from"./chunks/framework.BJ0zSiM-.js";const u=JSON.parse('{"title":"自建NetGuard服务器","description":"","frontmatter":{},"headers":[],"relativePath":"cn/docs/selfhosted.md","filePath":"cn/docs/selfhosted.md"}'),e={name:"cn/docs/selfhosted.md"},t=l(`<h1 id="自建netguard服务器" tabindex="-1">自建NetGuard服务器 <a class="header-anchor" href="#自建netguard服务器" aria-label="Permalink to &quot;自建NetGuard服务器&quot;">​</a></h1><ul><li>如果你想节省成本，或不想了解太多技术细节，可以加入<a href="./shared.html">共同防御计划</a></li><li>如果你资金充裕，对搭建网络服务也有充足的经验，那么自建服务器是较好的选择</li><li>如果你想<a href="./selfhosted.html">自建NetGuard服务器</a>，<strong>必须</strong>先了解它的<a href="./principle.html">工作原理</a></li></ul><h2 id="搭建步骤" tabindex="-1">搭建步骤 <a class="header-anchor" href="#搭建步骤" aria-label="Permalink to &quot;搭建步骤&quot;">​</a></h2><h3 id="申请用户后台账号" tabindex="-1">申请用户后台账号 <a class="header-anchor" href="#申请用户后台账号" aria-label="Permalink to &quot;申请用户后台账号&quot;">​</a></h3><p>发邮件到右侧地址(需要用 Base64 解码)：eGlhbmlwQDE2My5jb20=</p><p>为防止违法滥用，请严格按照如下要求撰写邮件，否则不予回复</p><p><strong>邮件标题：</strong> 申请自建NetGuard服务器</p><p><strong>邮件正文：</strong></p><ol><li>介绍自己的基本情况</li><li>提供自己的联系方式(手机号码)</li><li>介绍自己 App 的基本情况（功能、平台、主页）</li></ol><h3 id="下载服务端程序" tabindex="-1">下载服务端程序 <a class="header-anchor" href="#下载服务端程序" aria-label="Permalink to &quot;下载服务端程序&quot;">​</a></h3><p><a href="https://drive.google.com/drive/folders/15Y6rKEeYEIU9TE6OIgN-oOjfFxWr6pLG" target="_blank" rel="noreferrer">点这里</a>下载两种服务端程序:</p><ol><li>网关服务端 (负责转发数据): 运行于 16005 端口</li><li>盾机服务端 (负责用户保活): 运行于 18005 端口</li></ol><div class="tip custom-block"><p class="custom-block-title">请注意</p><p>服务端程序仅支持基于 x86 架构的 64 位 Windows 和 Linux 系统</p></div><h3 id="运行服务端程序" tabindex="-1">运行服务端程序 <a class="header-anchor" href="#运行服务端程序" aria-label="Permalink to &quot;运行服务端程序&quot;">​</a></h3><ol><li>登录到<a href="http://user.udptcp.com" target="_blank" rel="noreferrer">管理后台</a>，获取实例的 App ID 和 App Key</li><li>如果只需要保活功能，可以在相同的服务器上运行上述的服务端程序</li><li>如果需要 DDoS 防御功能，必须在不同的服务器上运行上述服务端程序</li><li>服务端程序均为命令行，需要使用参数启动，如下所示</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux平台网关服务端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  transfer-linux-amd64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppID&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppKey&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux平台盾机服务端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  shield-linux-amd64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppID&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppKey&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Windows平台网关服务端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  transfer-windows-amd64.exe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppID&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppKey&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Windows平台盾机服务端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  shield-windows-amd64.exe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppID&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -appkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实例的AppKey&quot;</span></span></code></pre></div><h3 id="添加服务器到后台" tabindex="-1">添加服务器到后台 <a class="header-anchor" href="#添加服务器到后台" aria-label="Permalink to &quot;添加服务器到后台&quot;">​</a></h3><ol><li>登录到<a href="http://user.udptcp.com" target="_blank" rel="noreferrer">管理后台</a></li><li>把配置好的服务器分别添加到网关和盾机页面</li><li>在实例内添加分别添加到网关和盾机</li></ol><h2 id="自建服务器的限制" tabindex="-1">自建服务器的限制 <a class="header-anchor" href="#自建服务器的限制" aria-label="Permalink to &quot;自建服务器的限制&quot;">​</a></h2><p>自建服务器的IDC资源全部由开发者自行采购，因此没有业务带宽、并发在线设备数等限制，但依然会消耗一部分的公共资源。为避免对NetGuard的其他用户产生影响，特设如下限制：</p><ol><li>只能拥有一个NetGuard实例</li><li>无法获取客户端真实IP地址</li><li>无法限制客户端的连接频率</li><li>无法限制客户端的并发连接数</li><li>需要保持至少 10 台设备在线</li><li>长期不活跃的实例会被自动删除</li></ol><h2 id="下一步做什么" tabindex="-1">下一步做什么 <a class="header-anchor" href="#下一步做什么" aria-label="Permalink to &quot;下一步做什么&quot;">​</a></h2><ol><li>请设置系统防火墙，只允许网关连接到盾机</li><li>请设置系统防火墙，只允许盾机连接到 App 服务器</li><li>部分机房的防火墙会干扰基于 TCP 的 TLS 连接，请联系机房解决</li><li>阅读<a href="./integrate.html">开发文档</a>，根据自身需要进行接入NetGuard SDK</li></ol>`,23),n=[t];function p(h,r,o,d,k,c){return s(),i("div",null,n)}const g=a(e,[["render",p]]);export{u as __pageData,g as default};
